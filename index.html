<html ng-app>
  <meta charset="UTF-8"/>
  <head>
    <script src="jquery-1.8.3.js"> </script>  
    <script src="angular.js"></script>
    <link href='dub.css' rel="stylesheet" type='text/css'></style>
    <script src="dub-mark.js"></script>
  </head>
  <body>
    Angular Learning
    <div ng-controller="DubMark.ProjectEntry" id="main" class="main">
      {{project.title}}
      <div id="video" class="video"> 
      </div>
      <div id="active" class="active"> 
      </div>
      <div id="controls" class="controls"> 
        <!-- Insert the controls here. -->
        <button ng-click="project.vid.play()">Play</button>
        <button ng-click="project.vid.pause()">Pause</button>
        <button ng-click="project.controls.newSub()">New Sub</button>
        <button ng-click="project.controls.endSub()">End Sub</button>
        <button ng-click="project.controls.pauseAndEndSub()">Pause End</button>
      </div>

      <form id="current" class="current_sub unfocus" ng-submit="project.controls.update()">
        Current (Do click selection / edits):
        ID:    {{project.subs.curr.id}}
        <input ng-model="project.subs.curr.text"  type="text" /> 
        <input ng-model="project.subs.curr.trans" type="text" /> 
        Start: {{project.subs.curr.sTime}}
        End:   {{project.subs.curr.eTime}}
      </form>
      <div id="subtitle" class="subtitle">
        <ul>
          <li ng-repeat="sub in project.subs.arr"> <!-- Click selection should make current -->
            <span ng-click="project.controls.setCurrent(sub)">
            {{sub.text}}
            {{sub.trans}}
            {{sub.sTime}}
            {{sub.eTime}}
            </span>
          </li>
        </ul>
      </div>
    </div>
    <script type="text/javascript">
      $(function(){
          try{ //Video tags do not play nice with post process operations.
          var v  = $('#video').append(
            $('<video>', {id: 'video_1', controls: true}).append(
              $('<source>',  {type: 'video/ogg', src: 'Sample.webm'})
            )
          );
          }catch(e){
            console.error('Failed to load.');
          }
      });
    </script>
  </body>
</html>
